# [VisGadget](https://github.com/mx927/VisGadget)

## 时间：2019/01/18

### 进度
- **`VisGadget`**：
> - 插件初始化.
> - 面板基础操作(最小化,拖拽,边缘停靠).
> - 默认按钮(图标统一`SVG格式`，可通过接口切换图标颜色).
> - 常用图形选择功能.
> - `Monitor`类，负责监听SVG窗口.

- **`Monitor`**：
> - 初始化时,针对SVG窗口进行尺寸适配，支持指定多个SVG窗口.
> - 内置ZRender.js，将图形相关操作托管给Zrender.
> - `rectSelect`、`ellipseSelect`功能.
> - 实现对现有`circle`、`path`SVG元素的克隆、标记功能.
> - **+新增：** `lassoSelect`、`straightSelect`、`polylineSelect`、`freeSelect`功能.

### TODO

1. `Monitor`: 完成剩余几种选择功能(套索、直线、多边形、曲线).
2. `VisGadget`: 以合适方式来添加回调函数.

### 问题

##### 1. `Monitor`中选择合适的数据结构来存储用户标记的每个元素，为后面的图层功能(参考Photoshop)做好准备。
主要考虑方面有: 
- 一对多(一个SVG元素可能有多个标记)
- 回调(标记上可能有鼠标事件)
- 重复标记检测的效率(若已经选择1万个节点，再标记一个新节点，可能需要遍历这1万个节点进行查重)
- 用户以某种形式可以直接检索到标记以及被标记的对象，并对其进行操作

![daedpool](Example/image/deadpool.gif)